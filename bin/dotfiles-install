#!/usr/bin/env python
# vim: et sw=4 ts=4:

import os
import sys

def relink(target, linkname):
    if os.path.exists(linkname):
        if os.path.islink(linkname):
            os.unlink(linkname)
        else:
            raise Exception('%s is not a symlink' % linkname)
    os.symlink(target, linkname)

def mkdir(p):
    try:
        os.mkdir(p)
    except:
        pass

def main():
    h = os.path.expanduser('~')

    relink('.dotfiles/git/gitconfig', h + '/.gitconfig')

    relink('.dotfiles/i3', h + '/.i3')

    relink('.dotfiles/lib/spacemacs', h + '/.emacs.d')
    relink('.dotfiles/spacemacs/spacemacs', h + '/.spacemacs')

    relink('.dotfiles/tmux/tmux.conf', h + '/.tmux.conf')

    relink('.dotfiles/vim/vimrc', h + '/.vimrc')

    relink('.dotfiles/zsh/zshrc', h + '/.zshrc')

if __name__ == '__main__':
    sys.exit(main())

